/************************************************
 * SEQUENCES                                    *
 ************************************************/
CREATE SEQUENCE pur_seq;

/************************************************
 * TABLES                                       *
 ************************************************/
CREATE TABLE purchase(
     pur_uid           BIGINT                   NOT NULL,
     pur_user_id       BIGINT                   NOT NULL,
     pur_course_id     BIGINT                   NOT NULL,
     pur_title         VARCHAR                  NOT NULL,
     pur_price         NUMERIC(10, 2)           NOT NULL,
     pur_purchase_time TIMESTAMP WITH TIME ZONE NOT NULL
);

ALTER TABLE purchase
  ALTER COLUMN     pur_uid    SET DEFAULT nextval('pur_seq'),
  ADD   CONSTRAINT pk_pur_uid PRIMARY KEY (pur_uid);


/************************************************
 * INDEXES                                      *
 ************************************************/

/************************************************
 * REFERENCE DATA                               *
 ************************************************/

/************************************************
 * FUNCTIONS                                    *
 ************************************************/

/************************************************
 * TRIGGERS                                     *
 ************************************************/

/************************************************
 * VIEWS                                        *
 ************************************************/

/************************************************
 * FUNCTIONS (Views)                            *
 ************************************************/

/************************************************
 * TRIGGERS (Views)                             *
 ************************************************/